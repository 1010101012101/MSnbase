<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Storing multiple related MSnSets — MSnSetList-class • MSnbase</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>

<!-- mathjax -->
<script src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">MSnbase</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/lgatto/MSnbase">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Storing multiple related MSnSets</h1>
    </div>

    
    <p>A class for storing lists of <code><a href='MSnSet-class.html'>MSnSet</a></code>
  instances.</p>
    

        
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p></p>
    <p>There are two ways to store different sets of measurements pertaining
  an experimental unit, such as replicated measures of different
  conditions that were recorded over more than one MS
  acquisition. Without focusing on any proteomics technology in
  particular, these multiple assays can be recorded as</p>
    <p><ul>
<li> A single combined <code>MSnSet</code> (see the section
    <em>Combining MSnSet instances</em> in the <em>MSnbase-demo</em>
    section). In such cases, the different experimental (phenotypical)
    conditions are recorded as an
    <code>AnnotatedDataFrame</code> in the <code>phenoData</code>
    slots.</p>
    <p>Quantitative data for features that were missing in an assay are
    generally encode as missing with <code>NA</code> values. Alternatively,
    only features observed in all assays could be selected. See the
    <code><a href='commonFeatureNames.html'>commonFeatureNames</a></code> functions to select only common
    features among two or more <code>MSnSet</code> instance.</p>
    <p></li>
<li> Each set of measurements is stored in an <code>MSnSet</code> which
    are combined into one <code>MSnSetList</code>. Each <code>MSnSet</code> elements
    can have identical or different samples and features. Unless
    compiled directly manually by the user, one would expect at least
    one of these dimensions (features/rows or samples/columns) are
    conserved (i.e. all feature or samples names are identical). See
    <code>split</code>/<code>unsplit</code> below.</p>
    <p></li>
</ul></p>
    
    <h2 class="hasAnchor" id="objects-from-the-class"><a class="anchor" href="#objects-from-the-class"></a>Objects from the Class</h2>

    <p></p>
    <p>Objects can be created and manipluated with:</p>
    <p><dl class='dl-horizontal'></p>
    <p><dt><code>MSnSetList(x)</code></dt><dd>The class constructor that takes a list
      of valid <code>MSnSet</code> instances as input <code>x</code>. </dd></p>
    <p><dt><code>split(x, f)</code></dt><dd>An <code>MSnSetList</code> can be created from
      an <code><a href='MSnSet-class.html'>MSnSet</a></code> instance. <code>x</code> is a single
      <code>MSnSet</code> and <code>f</code> is a <code>factor</code> or a
      <code>character</code> of length 1. In the latter case, <code>f</code> will be
      matched to the feature- and phenodata variable names (in that
      order). If a match is found, the respective variable is extracted,
      converted to a factor if it is not one already, and used to split
      <code>x</code> along the features/rows (<code>f</code> was a feature variable
      name) or samples/columns (<code>f</code> was a phenotypic variable
      name).  If <code>f</code> is passed as a factor, its length will be
      matched to <code>nrow(x)</code> or <code>ncol(x)</code> (in that order) to
      determine if <code>x</code> will be split along the features (rows) or
      sample (columns). Hence, the length of <code>f</code> must match exactly
      to either dimension. </dd></p>
    <p><dt><code>unsplit(value, f)</code></dt><dd>The <code>unsplit</code> method reverses
      the effect of splitting the <code>value</code> <code>MSnSet</code> along the
      groups <code>f</code>.</dd></p>
    <p><dt><code>as(x, &quot;MSnSetList&quot;)</code></dt><dd>Where <code>x</code> is an instance of
      class <a href='MzTab-class.html'>MzTab</a>. See the class documentation for
      details.</dd></p>
    <p></dl></p>
    
    <h2 class="hasAnchor" id="slots"><a class="anchor" href="#slots"></a>Slots</h2>

    <p><dl class='dl-horizontal'></p>
    <p><dt><code>x</code>:</dt><dd>Object of class <code>list</code> containing valid
      <code>MSnSet</code> instances. Can be extracted with the
      <code>msnsets()</code> accessor. </dd></p>
    <p><dt><code>log</code>:</dt><dd>Object of class <code>list</code> containing an object
      creation log, containing among other elements the call that
      generated the object. Can be accessed with <code>objlog()</code>. </dd></p>
    <p><dt><code>.__classVersion__</code>:</dt><dd>The version of the instance. For
      development purposes only. </dd>
  </dl></p>
    
    <h2 class="hasAnchor" id="methods"><a class="anchor" href="#methods"></a>Methods</h2>

    <p><dl class='dl-horizontal'>
    <dt><code>&quot;[[&quot;</code></dt><dd>Extracts a single <code>MSnSet</code> at position. </dd>
    <dt><code>&quot;[&quot;</code></dt><dd>Extracts one of more <code>MSnSets</code> as
      <code>MSnSetList</code>. </dd>
    <dt><code>length</code></dt><dd>Returns the number of <code>MSnSets</code>. </dd>
    <dt><code>names</code></dt><dd>Returns the names of <code>MSnSets</code>, if
      available. The replacement method is also available. </dd>
    <dt><code>show</code></dt><dd> Display the object by printing a short
      summary. </dd></p>
    <p><dt><code>lapply(x, FUN, ...)</code></dt><dd> Apply function <code>FUN</code> to each
      element of the input <code>x</code>. If the application of <code>FUN</code>
      returns and <code>MSnSet</code>, then the return value is an
      <code>MSnSetList</code>, otherwise a <code>list</code></dd>.</p>
    <p></dl></p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <p>The <code><a href='commonFeatureNames.html'>commonFeatureNames</a></code> function to select common
  features among <code>MSnSet</code> instances.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>library</span>(<span class='st'>"pRolocdata"</span>)</div><div class='output co'>#&gt; <span class='error'>Error: package ‘MSnbase’ required by ‘pRolocdata’ could not be found</span></div><div class='input'><span class='fu'>data</span>(<span class='no'>tan2009r1</span>)</div><div class='output co'>#&gt; <span class='warning'>Warning: data set ‘tan2009r1’ not found</span></div><div class='input'><span class='fu'>data</span>(<span class='no'>tan2009r2</span>)</div><div class='output co'>#&gt; <span class='warning'>Warning: data set ‘tan2009r2’ not found</span></div><div class='input'>
<span class='co'>## The MSnSetList class</span>
<span class='co'>##  an unnamed example</span>
<span class='no'>msnl</span> <span class='kw'>&lt;-</span> <span class='fu'>MSnSetList</span>(<span class='fu'>list</span>(<span class='no'>tan2009r1</span>, <span class='no'>tan2009r2</span>))</div><div class='output co'>#&gt; <span class='error'>Error in .nextMethod(.Object, ...): object &#39;tan2009r1&#39; not found</span></div><div class='input'><span class='co'>##  a named example</span>
<span class='no'>msnl</span> <span class='kw'>&lt;-</span> <span class='fu'>MSnSetList</span>(<span class='fu'>list</span>(<span class='kw'>A</span> <span class='kw'>=</span> <span class='no'>tan2009r1</span>, <span class='kw'>B</span> <span class='kw'>=</span> <span class='no'>tan2009r2</span>))</div><div class='output co'>#&gt; <span class='error'>Error in .nextMethod(.Object, ...): object &#39;tan2009r1&#39; not found</span></div><div class='input'><span class='fu'>names</span>(<span class='no'>msnl</span>)</div><div class='output co'>#&gt; <span class='error'>Error in eval(expr, envir, enclos): object &#39;msnl&#39; not found</span></div><div class='input'><span class='fu'>msnsets</span>(<span class='no'>msnl</span>)</div><div class='output co'>#&gt; <span class='error'>Error in msnsets(msnl): object &#39;msnl&#39; not found</span></div><div class='input'><span class='fu'><a href='pSet-class.html'>length</a></span>(<span class='no'>msnl</span>)</div><div class='output co'>#&gt; <span class='error'>Error in eval(expr, envir, enclos): object &#39;msnl&#39; not found</span></div><div class='input'><span class='fu'>objlog</span>(<span class='no'>msnl</span>)</div><div class='output co'>#&gt; <span class='error'>Error in objlog(msnl): object &#39;msnl&#39; not found</span></div><div class='input'><span class='no'>msnl</span><span class='kw'>[[</span><span class='fl'>1</span>]] <span class='co'>## an MSnSet</span></div><div class='output co'>#&gt; <span class='error'>Error in eval(expr, envir, enclos): object &#39;msnl&#39; not found</span></div><div class='input'><span class='no'>msnl</span>[<span class='fl'>1</span>]   <span class='co'>## an MSnSetList of length 1</span></div><div class='output co'>#&gt; <span class='error'>Error in eval(expr, envir, enclos): object &#39;msnl&#39; not found</span></div><div class='input'>
<span class='co'>## Iterating over the elements</span>
<span class='fu'>lapply</span>(<span class='no'>msnl</span>, <span class='no'>dim</span>) <span class='co'>## a list</span></div><div class='output co'>#&gt; <span class='error'>Error in lapply(msnl, dim): object &#39;msnl&#39; not found</span></div><div class='input'><span class='fu'>lapply</span>(<span class='no'>msnl</span>, <span class='no'>normalise</span>) <span class='co'>## an MSnSetList</span></div><div class='output co'>#&gt; <span class='error'>Error in lapply(msnl, normalise): object &#39;msnl&#39; not found</span></div><div class='input'>
<span class='co'>## Splitting and unsplitting</span>
<span class='co'>##  splitting along the columns/samples</span>
<span class='fu'>data</span>(<span class='no'>dunkley2006</span>)</div><div class='output co'>#&gt; <span class='warning'>Warning: data set ‘dunkley2006’ not found</span></div><div class='input'><span class='fu'>head</span>(<span class='fu'>pData</span>(<span class='no'>dunkley2006</span>))</div><div class='output co'>#&gt; <span class='error'>Error in pData(dunkley2006): object &#39;dunkley2006&#39; not found</span></div><div class='input'>(<span class='no'>splt</span> <span class='kw'>&lt;-</span> <span class='fu'>split</span>(<span class='no'>dunkley2006</span>, <span class='st'>"replicate"</span>))</div><div class='output co'>#&gt; <span class='error'>Error in split(dunkley2006, &quot;replicate&quot;): object &#39;dunkley2006&#39; not found</span></div><div class='input'><span class='fu'>lapply</span>(<span class='no'>splt</span>, <span class='no'>dim</span>) <span class='co'>## the number of rows and columns of the split elements</span></div><div class='output co'>#&gt; <span class='error'>Error in lapply(splt, dim): object &#39;splt&#39; not found</span></div><div class='input'><span class='no'>unsplt</span> <span class='kw'>&lt;-</span> <span class='fu'>unsplit</span>(<span class='no'>splt</span>, <span class='no'>dunkley2006</span>$<span class='no'>replicate</span>)</div><div class='output co'>#&gt; <span class='error'>Error in unsplit(splt, dunkley2006$replicate): object &#39;splt&#39; not found</span></div><div class='input'><span class='fu'>stopifnot</span>(<span class='fu'><a href='compareMSnSets.html'>compareMSnSets</a></span>(<span class='no'>dunkley2006</span>, <span class='no'>unsplt</span>))</div><div class='output co'>#&gt; <span class='error'>Error in y@processingData &lt;- new(&quot;MSnProcess&quot;): object &#39;unsplt&#39; not found</span></div><div class='input'>
<span class='co'>##  splitting along the rows/features</span>
<span class='fu'>head</span>(<span class='fu'>fData</span>(<span class='no'>dunkley2006</span>))</div><div class='output co'>#&gt; <span class='error'>Error in fData(dunkley2006): object &#39;dunkley2006&#39; not found</span></div><div class='input'>(<span class='no'>splt</span> <span class='kw'>&lt;-</span> <span class='fu'>split</span>(<span class='no'>dunkley2006</span>, <span class='st'>"markers"</span>))</div><div class='output co'>#&gt; <span class='error'>Error in split(dunkley2006, &quot;markers&quot;): object &#39;dunkley2006&#39; not found</span></div><div class='input'><span class='no'>unsplt</span> <span class='kw'>&lt;-</span> <span class='fu'>unsplit</span>(<span class='no'>splt</span>, <span class='fu'>factor</span>(<span class='fu'>fData</span>(<span class='no'>dunkley2006</span>)$<span class='no'>markers</span>))</div><div class='output co'>#&gt; <span class='error'>Error in unsplit(splt, factor(fData(dunkley2006)$markers)): object &#39;splt&#39; not found</span></div><div class='input'><span class='fu'>simplify2array</span>(<span class='fu'>lapply</span>(<span class='no'>splt</span>, <span class='no'>dim</span>))</div><div class='output co'>#&gt; <span class='error'>Error in lapply(splt, dim): object &#39;splt&#39; not found</span></div><div class='input'><span class='fu'>stopifnot</span>(<span class='fu'><a href='compareMSnSets.html'>compareMSnSets</a></span>(<span class='no'>dunkley2006</span>, <span class='no'>unsplt</span>))</div><div class='output co'>#&gt; <span class='error'>Error in y@processingData &lt;- new(&quot;MSnProcess&quot;): object &#39;unsplt&#39; not found</span></div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      
      <li><a href="#details">Details</a></li>

      <li><a href="#objects-from-the-class">Objects from the Class</a></li>

      <li><a href="#slots">Slots</a></li>

      <li><a href="#methods">Methods</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
  Laurent Gatto &lt;lg390@cam.ac.uk&gt;

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Laurent Gatto, Johannes Rainer, Gibb Sebastian.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
